{"ast":null,"code":"import axios from \"axios\";\nexport const getAllPizzas = () => async dispatch => {\n  dispatch({\n    type: 'GET_PIZZAS_REQUEST'\n  });\n  try {\n    const response = await axios.get('/api/pizzas/getallpizzas');\n    console.log(response);\n    dispatch({\n      type: 'GET_PIZZAS_SUCCESS',\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: 'GET_PIZZAS_FAILED',\n      payload: error\n    });\n  }\n};\nexport const getPizzaById = pizzaid => async dispatch => {\n  dispatch({\n    type: 'GET_PIZZABYID_REQUEST'\n  });\n  try {\n    const response = await axios.post('/api/pizzas/getpizzabyid', {\n      pizzaid\n    });\n    console.log(response);\n    dispatch({\n      type: 'GET_PIZZABYID_SUCCESS',\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: 'GET_PIZZABYID_FAILED',\n      payload: error\n    });\n  }\n};\nexport const filterPizzas = (searchkey, category) => async dispatch => {\n  dispatch({\n    type: 'GET_PIZZAS_REQUEST'\n  });\n  try {\n    var filteredPizzas;\n    const response = await axios.get('/api/pizzas/getallpizzas');\n    filteredPizzas = response.data.filter(pizza => pizza.name.toLowerCase().includes(searchkey));\n    if (category != 'all') {\n      filteredPizzas = response.data.filter(pizza => pizza.category.toLowerCase() == category);\n    }\n    dispatch({\n      type: 'GET_PIZZAS_SUCCESS',\n      payload: filteredPizzas\n    });\n  } catch (error) {\n    dispatch({\n      type: 'GET_PIZZAS_FAILED',\n      payload: error\n    });\n  }\n};\nexport const addPizza = pizza => async dispatch => {\n  dispatch({\n    type: 'ADD_PIZZA_REQUEST'\n  });\n  try {\n    const response = await axios.post('/api/pizzas/addpizza', {\n      pizza\n    });\n    console.log(response);\n    dispatch({\n      type: 'ADD_PIZZA_SUCCESS'\n    });\n  } catch (error) {\n    dispatch({\n      type: 'ADD_PIZZA_FAILED',\n      payload: error\n    });\n  }\n};\nexport const editPizza = editedpizza => async dispatch => {\n  dispatch({\n    type: 'EDIT_PIZZA_REQUEST'\n  });\n  try {\n    const response = await axios.post('/api/pizzas/editpizza', {\n      editedpizza\n    });\n    console.log(response);\n    dispatch({\n      type: 'EDIT_PIZZA_SUCCESS'\n    });\n    window.location.href = '/admin/pizzaslist';\n  } catch (error) {\n    dispatch({\n      type: 'EDIT_PIZZA_FAILED',\n      payload: error\n    });\n  }\n};\nexport const deletePizza = pizzaid => async dispatch => {\n  try {\n    const response = await axios.post('/api/pizzas/deletepizza', {\n      pizzaid\n    });\n    alert('Pizza Deleted Successfully');\n    console.log(response);\n    window.location.reload();\n  } catch (error) {\n    alert('Something went wrong');\n    console.log(error);\n  }\n};","map":{"version":3,"names":["axios","getAllPizzas","dispatch","type","response","get","console","log","payload","data","error","getPizzaById","pizzaid","post","filterPizzas","searchkey","category","filteredPizzas","filter","pizza","name","toLowerCase","includes","addPizza","editPizza","editedpizza","window","location","href","deletePizza","alert","reload"],"sources":["D:/reactapp/pizzaApp/frontend/src/actions/pizzaActions.js"],"sourcesContent":["import axios from \"axios\";\r\nexport const getAllPizzas=()=>async dispatch=>{\r\n\r\n    dispatch({type:'GET_PIZZAS_REQUEST'})\r\n\r\n    try {\r\n        const response = await axios.get('/api/pizzas/getallpizzas')\r\n        console.log(response);\r\n        dispatch({type:'GET_PIZZAS_SUCCESS' , payload : response.data})\r\n       \r\n    } catch (error) {\r\n        dispatch({type:'GET_PIZZAS_FAILED' , payload : error})\r\n    }\r\n\r\n}\r\n\r\nexport const getPizzaById=(pizzaid)=>async dispatch=>{\r\n\r\n    dispatch({type:'GET_PIZZABYID_REQUEST'})\r\n\r\n    try {\r\n        const response = await axios.post('/api/pizzas/getpizzabyid' , {pizzaid})\r\n        console.log(response);\r\n        dispatch({type:'GET_PIZZABYID_SUCCESS' , payload : response.data})\r\n    } catch (error) {\r\n        dispatch({type:'GET_PIZZABYID_FAILED' , payload : error})\r\n    }\r\n\r\n}\r\n\r\nexport const filterPizzas=(searchkey , category)=>async dispatch=>{\r\n\r\n  \r\n    dispatch({type:'GET_PIZZAS_REQUEST'})\r\n\r\n    try {\r\n        var filteredPizzas ;\r\n        const response = await axios.get('/api/pizzas/getallpizzas')\r\n        filteredPizzas = response.data.filter(pizza=>pizza.name.toLowerCase().includes(searchkey))\r\n         \r\n        if(category!='all')\r\n        {\r\n            filteredPizzas = response.data.filter(pizza=>pizza.category.toLowerCase()==category)\r\n\r\n        }\r\n        dispatch({type:'GET_PIZZAS_SUCCESS' , payload : filteredPizzas})\r\n    } catch (error) {\r\n        dispatch({type:'GET_PIZZAS_FAILED' , payload : error})\r\n    }\r\n\r\n}\r\n\r\nexport const addPizza=(pizza)=>async dispatch=>{\r\n    dispatch({type:'ADD_PIZZA_REQUEST'})\r\n    try {\r\n        const response= await axios.post('/api/pizzas/addpizza' , {pizza})\r\n        console.log(response);\r\n        dispatch({type:'ADD_PIZZA_SUCCESS'})\r\n    } catch (error) {\r\n        dispatch({type:'ADD_PIZZA_FAILED' , payload : error})\r\n    }\r\n}\r\n\r\nexport const editPizza=(editedpizza)=>async dispatch=>{\r\n    dispatch({type:'EDIT_PIZZA_REQUEST'})\r\n    try {\r\n        const response= await axios.post('/api/pizzas/editpizza' , {editedpizza})\r\n        console.log(response);\r\n        dispatch({type:'EDIT_PIZZA_SUCCESS'})\r\n        window.location.href='/admin/pizzaslist'\r\n    } catch (error) {\r\n        dispatch({type:'EDIT_PIZZA_FAILED' , payload : error})\r\n    }\r\n}\r\n\r\nexport const deletePizza=(pizzaid)=>async dispatch=>{\r\n\r\ntry {\r\n    const response =await axios.post('/api/pizzas/deletepizza' , {pizzaid})\r\n    alert('Pizza Deleted Successfully')\r\n    console.log(response);\r\n    window.location.reload()\r\n} catch (error) {\r\n    alert('Something went wrong')\r\n    console.log(error);\r\n}\r\n       \r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}